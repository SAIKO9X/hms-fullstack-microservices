<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <style>
        body { font-family: 'Helvetica', sans-serif; color: #333; margin: 40px; }
        .header { text-align: center; border-bottom: 2px solid #2c3e50; padding-bottom: 10px; margin-bottom: 20px; }
        .hospital-name { font-size: 24px; font-weight: bold; color: #2c3e50; }
        .doc-title { font-size: 18px; margin-top: 10px; text-transform: uppercase; letter-spacing: 2px; }
        .info-section { margin-bottom: 20px; line-height: 1.6; }
        .info-label { font-weight: bold; width: 100px; display: inline-block; }
        .medicines-table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        .medicines-table th { background-color: #f8f9fa; border-bottom: 1px solid #dee2e6; text-align: left; padding: 10px; }
        .medicines-table td { border-bottom: 1px solid #eee; padding: 12px 10px; }
        .notes { margin-top: 30px; font-style: italic; font-size: 14px; color: #666; border-left: 3px solid #eee; padding-left: 10px; }
        .footer { margin-top: 50px; text-align: center; font-size: 12px; }
        .signature { margin-top: 40px; border-top: 1px solid #333; width: 250px; margin-left: auto; margin-right: auto; padding-top: 5px; }
    </style>
</head>
<body>
<div class="header">
    <div class="hospital-name">HMS - Hospital Management System</div>
    <div class="doc-title">Receita Médica</div>
</div>

<div class="info-section">
    <div><span class="info-label">Paciente:</span> <span th:text="${patientName}">João Silva</span></div>
    <div><span class="info-label">Data:</span> <span th:text="${#temporals.format(createdAt, 'dd/MM/yyyy HH:mm')}">28/01/2026</span>
    </div>
    <div><span class="info-label">ID Receita:</span> #<span th:text="${prescriptionId}">12345</span></div>
</div>

<table class="medicines-table">
    <thead>
    <tr>
        <th>Medicamento</th>
        <th>Dosagem</th>
        <th>Frequência</th>
        <th>Duração</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="med : ${medicines}">
        <td th:text="${med.name}" style="font-weight: bold;">Amoxicilina</td>
        <td th:text="${med.dosage}">500mg</td>
        <td th:text="${med.frequency}">8/8 horas</td>
        <td th:text="${med.duration}">7 dias</td>
    </tr>
    </tbody>
</table>

<div th:if="${notes}" class="notes">
    <strong>Observações:</strong><br/>
    <span th:text="${notes}">Tomar após as refeições.</span>
</div>

<div class="footer">
    <div class="signature">
        <span th:text="${doctorName}">Dr. Nome do Médico</span><br/>
        CRM: <span th:text="${doctorCrm}">00000-XX</span>
    </div>
    <p style="margin-top: 20px;">Este documento é uma prescrição oficial do sistema HMS.</p>
</div>
</body>
</html>